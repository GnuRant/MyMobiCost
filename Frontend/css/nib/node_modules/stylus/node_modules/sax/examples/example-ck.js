var fs=require("fs"),util=require("util"),path=require("path"),xml=fs.readFileSync(path.join(__dirname,"test.xml"),"utf8"),sax=require("../lib/sax"),strict=sax.parser(!0),loose=sax.parser(!1,{trim:!0}),inspector=function(e){return function(t){console.error("%s %s %j",this.line+":"+this.column,e,t)}};sax.EVENTS.forEach(function(e){loose["on"+e]=inspector(e)});loose.onend=function(){console.error("end");console.error(loose)};(function(){if(xml){var e=Math.ceil(Math.random()*1e3);loose.write(xml.substr(0,e));xml=xml.substr(e);process.nextTick(arguments.callee)}else loose.close()})();
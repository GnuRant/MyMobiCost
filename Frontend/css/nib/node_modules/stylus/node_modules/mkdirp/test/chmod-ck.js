var mkdirp=require("../").mkdirp,path=require("path"),fs=require("fs"),test=require("tap").test,ps=["","tmp"];for(var i=0;i<25;i++){var dir=Math.floor(Math.random()*Math.pow(16,4)).toString(16);ps.push(dir)}var file=ps.join("/");test("chmod-pre",function(e){var t=484;mkdirp(file,t,function(n){e.ifError(n,"should not error");fs.stat(file,function(n,r){e.ifError(n,"should exist");e.ok(r&&r.isDirectory(),"should be directory");e.equal(r&&r.mode&511,t,"should be 0744");e.end()})})});test("chmod",function(e){var t=493;mkdirp(file,t,function(t){e.ifError(t,"should not error");fs.stat(file,function(t,n){e.ifError(t,"should exist");e.ok(n&&n.isDirectory(),"should be directory");e.end()})})});